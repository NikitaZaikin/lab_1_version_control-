:root {
      --bg1: #050007;
      --bg2: #17000a;
      --bg3: #02010a;
      --marvel-red: #e62429;
      --marvel-soft: #ff5b6c;
      --cyan: #66f5ff;
      --warm: #ffd2c3;
      --grain-opacity: 0.20;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      width: 100%;
      height: 100%;
      overflow: hidden;
      font-family: "Montserrat", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: radial-gradient(circle at 20% 0, #3a0012 0, #060006 55%, #000 100%);
    }

    #container {
      position: relative;
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      perspective: 1600px;
      background:
        radial-gradient(circle at 50% -15%, #5c0017 0, transparent 60%),
        radial-gradient(circle at -10% 120%, #050020 0, transparent 55%),
        radial-gradient(circle at 110% 120%, #001020 0, transparent 55%),
        linear-gradient(180deg, var(--bg2) 0, var(--bg1) 55%, #000 100%);
    }

    #container::before {
      content: "";
      position: absolute;
      inset: -20%;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 140 140' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='3' stitchTiles='noStitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='1'/%3E%3C/svg%3E");
      mix-blend-mode: soft-light;
      opacity: 0;
      pointer-events: none;
      animation:
        grain-fade 3s ease-out 0.3s forwards,
        grain-move 2s steps(6) infinite;
    }

    .scene {
      position: relative;
      width: min(84vw, 1000px);
      height: min(47vw, 560px);
      display: flex;
      align-items: center;
      justify-content: center;
      transform-style: preserve-3d;
      opacity: 0;
      animation: scene-enter 3.4s cubic-bezier(0.16, 0.84, 0.34, 1) forwards;
    }

    .trails {
      position: absolute;
      inset: 0;
      overflow: hidden;
      filter: blur(2.2px);
      opacity: 0;
      animation: trails-in 1.5s ease-out 0.9s forwards;
    }

    .trail {
      position: absolute;
      left: -45%;
      width: 150%;
      height: 15%;
      background: linear-gradient(90deg,
        rgba(0,0,0,0) 0,
        rgba(230,36,41,0.08) 8%,
        rgba(230,36,41,0.55) 30%,
        rgba(255,178,190,0.65) 45%,
        rgba(101,245,255,0.45) 65%,
        rgba(0,0,0,0) 100%);
      opacity: 0;
      transform: translate3d(0,0,0);
      mix-blend-mode: screen;
      animation: trail-sweep 5s cubic-bezier(0.23, 1, 0.32, 1) infinite;
    }

    .trail:nth-child(1) { top: 32%; animation-delay: 0.1s; }
    .trail:nth-child(2) { top: 45%; animation-delay: 0.5s; opacity: 0.9; }
    .trail:nth-child(3) { top: 58%; animation-delay: 0.25s; height: 12%; filter: blur(3px); }

    .panel-wrapper {
      position: relative;
      width: min(72%, 700px);
      height: min(32%, 200px);
      display: flex;
      align-items: center;
      justify-content: center;
      transform-style: preserve-3d;
      transform: translateZ(40px);
      z-index: 3;
    }

    .panel {
      position: relative;
      width: 100%;
      height: 100%;
      border-radius: 14px;
      background:
        radial-gradient(circle at 15% 0, rgba(255,255,255,0.12) 0, transparent 60%),
        radial-gradient(circle at 85% 100%, rgba(255,130,156,0.22) 0, transparent 70%),
        linear-gradient(135deg, #260009 0%, #180008 35%, #150006 65%, #260008 100%);
      box-shadow:
        0 0 0 1px rgba(255,255,255,0.05),
        0 0 32px rgba(0,0,0,0.95),
        0 0 70px rgba(230,36,41,0.8),
        0 0 130px rgba(0,0,0,1);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      opacity: 0;
      transform: translateZ(70px) scale(0.9) translateY(12px);
      animation:
        panel-pop 1.05s cubic-bezier(0.19, 1, 0.22, 1) 1.8s forwards,
        panel-breathe 3.8s ease-in-out 2.6s infinite alternate;
    }

    .panel::before {
      content: "";
      position: absolute;
      inset: 0;
      border-radius: inherit;
      border: 1px solid rgba(255,255,255,0.18);
      box-shadow:
        inset 0 0 16px rgba(255,255,255,0.3),
        inset 0 0 32px rgba(230,36,41,0.55);
      opacity: 0;
      animation: panel-inner-glow 3s ease-in-out 2.4s infinite alternate;
      pointer-events: none;
    }

    .panel::after {
      content: "";
      position: absolute;
      inset: -40%;
      border-radius: 22px;
      background:
        radial-gradient(circle at 50% 50%, rgba(230,36,41,0.26) 0, transparent 65%);
      filter: blur(16px);
      opacity: 0;
      mix-blend-mode: screen;
      animation: panel-aura 2.4s ease-in-out 2.0s forwards;
      pointer-events: none;
    }

    .panel-light-sweep {
      position: absolute;
      inset: 0;
      overflow: hidden;
      pointer-events: none;
    }

    .panel-light-sweep::before {
      content: "";
      position: absolute;
      top: -30%;
      left: -50%;
      width: 40%;
      height: 160%;
      background: linear-gradient(115deg,
        rgba(255,255,255,0) 0,
        rgba(255,255,255,0.9) 45%,
        rgba(255,255,255,0.65) 55%,
        rgba(255,255,255,0) 100%);
      filter: blur(4px);
      opacity: 0;
      transform: translate3d(0,0,0) skewX(-20deg);
      animation: panel-sweep 2.4s cubic-bezier(0.2, 0.9, 0.35, 1) 2.2s forwards;
    }

    .marvel-title {
      position: relative;
      padding: 0 0.5em;
      font-size: clamp(3.8rem, 8vw, 6.5rem);
      letter-spacing: 0.38em;
      text-indent: 0.34em;
      text-transform: uppercase;
      color: #ffffff;
      text-align: center;
      transform: translateY(4px);
      opacity: 0;
      text-shadow:
        0 0 8px rgba(255,255,255,0.85),
        0 0 24px rgba(255,255,255,0.9),
        0 0 50px rgba(230,36,41,0.9),
        0 0 95px rgba(0,0,0,1);
      animation:
        title-in 1s cubic-bezier(0.16, 0.84, 0.44, 1.1) 2.0s forwards,
        title-glow 2.8s ease-in-out 2.8s infinite alternate;
    }

    .marvel-title::before,
    .marvel-title::after {
      content: attr(data-text);
      position: absolute;
      inset: 0;
      pointer-events: none;
      mix-blend-mode: screen;
      opacity: 0;
    }

    .marvel-title::before {
      color: var(--cyan);
      text-shadow:
        0 0 14px rgba(102,245,255,0.95),
        0 0 30px rgba(102,245,255,0.9);
      clip-path: inset(0 0 48% 0);
      animation:
        title-sweep-top 1.4s ease-out 2.2s forwards,
        title-ambient 3.2s ease-in-out 3.3s infinite alternate;
    }

    .marvel-title::after {
      color: var(--warm);
      text-shadow:
        0 0 12px rgba(255,210,195,0.95),
        0 0 24px rgba(255,210,195,0.9);
      clip-path: inset(52% 0 0 0);
      animation:
        title-sweep-bottom 1.4s ease-out 2.2s forwards,
        title-ambient 3s ease-in-out 3.1s infinite alternate-reverse;
    }

    .particle-field {
      position: absolute;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
      mix-blend-mode: screen;
      z-index: 2;
    }

    .particle {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: radial-gradient(circle, #ffffff 0, #ffe6e0 35%, rgba(255,255,255,0) 75%);
      box-shadow:
        0 0 6px rgba(255,255,255,0.9),
        0 0 16px rgba(230,36,41,0.9);
      opacity: 0;
      transform: translate3d(0,0,0) scale(0.4);
      animation: particle-gather 3.6s ease-out infinite;
    }

    .particle:nth-child(1)  { --sx: -420px; --sy: -260px; animation-delay: 0.0s; }
    .particle:nth-child(2)  { --sx:  380px; --sy: -220px; animation-delay: 0.2s; }
    .particle:nth-child(3)  { --sx: -360px; --sy:  260px; animation-delay: 0.35s; }
    .particle:nth-child(4)  { --sx:  420px; --sy:  260px; animation-delay: 0.55s; }
    .particle:nth-child(5)  { --sx: -480px; --sy:  40px;  animation-delay: 0.15s; }
    .particle:nth-child(6)  { --sx:  500px; --sy: -40px;  animation-delay: 0.4s; }
    .particle:nth-child(7)  { --sx: -260px; --sy: -320px; animation-delay: 0.3s; }
    .particle:nth-child(8)  { --sx:  260px; --sy:  320px; animation-delay: 0.6s; }
    .particle:nth-child(9)  { --sx: -520px; --sy:  180px; animation-delay: 0.1s; }
    .particle:nth-child(10) { --sx:  520px; --sy: -180px; animation-delay: 0.5s; }
    .particle:nth-child(11) { --sx: -340px; --sy:  310px; animation-delay: 0.8s; }
    .particle:nth-child(12) { --sx:  340px; --sy: -310px; animation-delay: 0.9s; }
    .particle:nth-child(13) { --sx: -560px; --sy: -60px;  animation-delay: 0.7s; }
    .particle:nth-child(14) { --sx:  560px; --sy:  80px;  animation-delay: 1.0s; }
    .particle:nth-child(15) { --sx:   80px; --sy: -360px; animation-delay: 0.65s; }
    .particle:nth-child(16) { --sx:  -60px; --sy:  360px; animation-delay: 0.95s; }
    .particle:nth-child(17) { --sx: -260px; --sy:  340px; animation-delay: 1.1s; }
    .particle:nth-child(18) { --sx:  260px; --sy: -340px; animation-delay: 1.25s; }
    .particle:nth-child(19) { --sx: -500px; --sy: -220px; animation-delay: 1.3s; }
    .particle:nth-child(20) { --sx:  480px; --sy:  240px; animation-delay: 1.45s; }


    .scanline {
      position: absolute;
      inset: 0;
      background: linear-gradient(
        to bottom,
        rgba(255,255,255,0) 0,
        rgba(255,255,255,0.4) 50%,
        rgba(255,255,255,0) 100%);
      mix-blend-mode: soft-light;
      opacity: 0;
      pointer-events: none;
      animation: scanline-run 3s ease-out 2.4s forwards;
    }


    @keyframes scene-enter {
      0% {
        opacity: 0;
        transform: translate3d(0, 60px, -420px) scale(0.8) rotateX(18deg);
        filter: blur(8px);
      }
      30% {
        opacity: 1;
        transform: translate3d(0, 18px, -260px) scale(0.92) rotateX(10deg);
        filter: blur(2.3px);
      }
      100% {
        opacity: 1;
        transform: translate3d(0, 0, 0) scale(1) rotateX(0deg);
        filter: blur(0);
      }
    }

    @keyframes grain-fade {
      0% { opacity: 0; }
      100% { opacity: var(--grain-opacity); }
    }

    @keyframes grain-move {
      0%   { transform: translate3d(0,0,0); }
      100% { transform: translate3d(-12px, 10px, 0); }
    }

    @keyframes trails-in {
      0% { opacity: 0; }
      100% { opacity: 1; }
    }

    @keyframes trail-sweep {
      0% {
        opacity: 0;
        transform: translate3d(-45%, 0, 0);
      }
      12% {
        opacity: 0.95;
      }
      55% {
        opacity: 0.8;
        transform: translate3d(40%, 0, 0);
      }
      85% {
        opacity: 0;
        transform: translate3d(80%, 0, 0);
      }
      100% {
        opacity: 0;
        transform: translate3d(80%, 0, 0);
      }
    }

    @keyframes panel-pop {
      0% {
        opacity: 0;
        transform: translateZ(40px) scale(0.86) translateY(18px);
      }
      60% {
        opacity: 1;
        transform: translateZ(110px) scale(1.05) translateY(-2px);
      }
      100% {
        opacity: 1;
        transform: translateZ(70px) scale(1) translateY(0);
      }
    }

    @keyframes panel-breathe {
      0% {
        box-shadow:
          0 0 0 1px rgba(255,255,255,0.05),
          0 0 36px rgba(0,0,0,1),
          0 0 72px rgba(230,36,41,0.78),
          0 0 130px rgba(0,0,0,1);
        transform: translateZ(70px) scale(1);
      }
      100% {
        box-shadow:
          0 0 0 1px rgba(255,255,255,0.08),
          0 0 40px rgba(0,0,0,1),
          0 0 100px rgba(230,36,41,0.98),
          0 0 160px rgba(0,0,0,1);
        transform: translateZ(80px) scale(1.01);
      }
    }

    @keyframes panel-inner-glow {
      0%   { opacity: 0.2; }
      100% { opacity: 0.7; }
    }

    @keyframes panel-aura {
      0%   { opacity: 0; }
      100% { opacity: 1; }
    }

    @keyframes panel-sweep {
      0% {
        opacity: 0;
        transform: translate3d(-50%, 0, 0) skewX(-20deg);
      }
      20% {
        opacity: 1;
      }
      70% {
        opacity: 0.8;
        transform: translate3d(230%, 0, 0) skewX(-20deg);
      }
      100% {
        opacity: 0;
        transform: translate3d(260%, 0, 0) skewX(-20deg);
      }
    }

    @keyframes title-in {
      0% {
        opacity: 0;
        transform: translateY(20px) scale(0.9);
      }
      55% {
        opacity: 1;
        transform: translateY(-3px) scale(1.04);
      }
      100% {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    @keyframes title-glow {
      0% {
        text-shadow:
          0 0 8px rgba(255,255,255,0.82),
          0 0 20px rgba(255,255,255,0.85),
          0 0 42px rgba(230,36,41,0.82),
          0 0 80px rgba(0,0,0,1);
      }
      100% {
        text-shadow:
          0 0 16px rgba(255,255,255,1),
          0 0 32px rgba(255,255,255,1),
          0 0 64px rgba(230,36,41,1),
          0 0 115px rgba(0,0,0,1);
      }
    }

    @keyframes title-sweep-top {
      0% {
        opacity: 0;
        transform: translate3d(-16px, -4px, 0);
      }
      40% {
        opacity: 1;
        transform: translate3d(4px, -2px, 0);
      }
      100% {
        opacity: 0.35;
        transform: translate3d(0, 0, 0);
      }
    }

    @keyframes title-sweep-bottom {
      0% {
        opacity: 0;
        transform: translate3d(16px, 4px, 0);
      }
      40% {
        opacity: 1;
        transform: translate3d(-3px, 1px, 0);
      }
      100% {
        opacity: 0.35;
        transform: translate3d(0, 0, 0);
      }
    }

    @keyframes title-ambient {
      0%   { opacity: 0.18; transform: translate3d(0,0,0) scale(1); }
      50%  { opacity: 0.36; transform: translate3d(1px,-1px,0) scale(1.01); }
      100% { opacity: 0.24; transform: translate3d(-1px,1px,0) scale(0.995); }
    }

    @keyframes particle-gather {
      0% {
        opacity: 0;
        transform: translate3d(var(--sx), var(--sy), 0) scale(0.35);
      }
      15% {
        opacity: 1;
      }
      55% {
        opacity: 1;
        transform: translate3d(calc(var(--sx) * 0.25), calc(var(--sy) * 0.25), 0) scale(0.7);
      }
      80% {
        opacity: 0.9;
        transform: translate3d(0, 0, 0) scale(0.95);
      }
      100% {
        opacity: 0;
        transform: translate3d(0, 0, 0) scale(1);
      }
    }

    @keyframes scanline-run {
      0% {
        opacity: 0;
        transform: translate3d(0,-120%,0);
      }
      15% {
        opacity: 0.4;
      }
      45% {
        transform: translate3d(0,40%,0);
        opacity: 0.25;
      }
      80% {
        transform: translate3d(0,120%,0);
        opacity: 0;
      }
      100% {
        opacity: 0;
        transform: translate3d(0,120%,0);
      }
    }